<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>数据结构实验报告</title>
      <link href="/2023/10/20/1020Experiment/"/>
      <url>/2023/10/20/1020Experiment/</url>
      
        <content type="html"><![CDATA[<p>环境：CLion</p><p>Cpp1过于没用不传了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;stack&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">#include &lt;sstream&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int precedence(char op) &#123;</span><br><span class="line">    switch (op) &#123;</span><br><span class="line">        case &#x27;+&#x27;:</span><br><span class="line">        case &#x27;-&#x27;:</span><br><span class="line">            return 1;</span><br><span class="line">        case &#x27;*&#x27;:</span><br><span class="line">        case &#x27;/&#x27;:</span><br><span class="line">            return 2;</span><br><span class="line">        default:</span><br><span class="line">            return 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string infixToPostfix(const string &amp;infix) &#123;</span><br><span class="line">    stack&lt;char&gt; s;</span><br><span class="line">    string postfix;</span><br><span class="line"></span><br><span class="line">    for (char ch : infix) &#123;</span><br><span class="line">        if (isdigit(ch)) &#123;</span><br><span class="line">            postfix += ch;</span><br><span class="line">        &#125; else if (ch == &#x27;(&#x27;) &#123;</span><br><span class="line">            s.push(ch);</span><br><span class="line">        &#125; else if (ch == &#x27;)&#x27;) &#123;</span><br><span class="line">            while (!s.empty() &amp;&amp; s.top() != &#x27;(&#x27;) &#123;</span><br><span class="line">                postfix += s.top();</span><br><span class="line">                s.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            s.pop();  // pop &#x27;(&#x27;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            while (!s.empty() &amp;&amp; precedence(s.top()) &gt;= precedence(ch)) &#123;</span><br><span class="line">                postfix += s.top();</span><br><span class="line">                s.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            s.push(ch);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    while (!s.empty()) &#123;</span><br><span class="line">        postfix += s.top();</span><br><span class="line">        s.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return postfix;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int evaluatePostfix(const string &amp;postfix) &#123;</span><br><span class="line">    stack&lt;int&gt; s;</span><br><span class="line"></span><br><span class="line">    for (char ch : postfix) &#123;</span><br><span class="line">        if (isdigit(ch)) &#123;</span><br><span class="line">            s.push(ch - &#x27;0&#x27;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            int b = s.top(); s.pop();</span><br><span class="line">            int a = s.top(); s.pop();</span><br><span class="line"></span><br><span class="line">            switch (ch) &#123;</span><br><span class="line">                case &#x27;+&#x27;: s.push(a + b); break;</span><br><span class="line">                case &#x27;-&#x27;: s.push(a - b); break;</span><br><span class="line">                case &#x27;*&#x27;: s.push(a * b); break;</span><br><span class="line">                case &#x27;/&#x27;: s.push(a / b); break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return s.top();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    string infix;</span><br><span class="line">    cout &lt;&lt; &quot;Enter infix expression: &quot;;</span><br><span class="line">    getline(cin, infix);</span><br><span class="line"></span><br><span class="line">    string postfix = infixToPostfix(infix);</span><br><span class="line">    cout &lt;&lt; &quot;Postfix expression: &quot; &lt;&lt; postfix &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    int result = evaluatePostfix(postfix);</span><br><span class="line">    cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实验3</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;fstream&gt;</span><br><span class="line">#include &lt;map&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;sstream&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">struct TreeNode &#123;</span><br><span class="line">    string name;</span><br><span class="line">    int count;</span><br><span class="line">    vector&lt;TreeNode*&gt; children;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">map&lt;string, TreeNode*&gt; nodesMap;</span><br><span class="line"></span><br><span class="line">TreeNode* getNode(string name) &#123;</span><br><span class="line">    if(nodesMap.find(name) == nodesMap.end()) &#123;</span><br><span class="line">        nodesMap[name] = new TreeNode&#123;name, 0&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    return nodesMap[name];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void buildTree(string filename) &#123;</span><br><span class="line">    ifstream infile(filename);</span><br><span class="line">    if (!infile.is_open()) &#123;</span><br><span class="line">        cerr &lt;&lt; &quot;Could not open file: &quot; &lt;&lt; filename &lt;&lt; endl;</span><br><span class="line">        exit(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    string line;</span><br><span class="line">    while(getline(infile, line)) &#123;</span><br><span class="line">        stringstream ss(line);</span><br><span class="line">        string parentName, childName;</span><br><span class="line">        int count;</span><br><span class="line">        ss &gt;&gt; parentName &gt;&gt; count &gt;&gt; childName;</span><br><span class="line">        TreeNode* parentNode = getNode(parentName);</span><br><span class="line">        TreeNode* childNode = getNode(childName);</span><br><span class="line">        parentNode-&gt;children.push_back(childNode);</span><br><span class="line">        parentNode-&gt;count += count;</span><br><span class="line">    &#125;</span><br><span class="line">    infile.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void queryTree(string filename) &#123;</span><br><span class="line">    ifstream infile(filename);</span><br><span class="line">    if (!infile.is_open()) &#123;</span><br><span class="line">        cerr &lt;&lt; &quot;Could not open file: &quot; &lt;&lt; filename &lt;&lt; endl;</span><br><span class="line">        exit(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    string line;</span><br><span class="line">    while(getline(infile, line)) &#123;</span><br><span class="line">        stringstream ss(line);</span><br><span class="line">        string operation, target;</span><br><span class="line">        ss &gt;&gt; operation;</span><br><span class="line">        if(operation == &quot;whatis&quot;) &#123;</span><br><span class="line">            ss &gt;&gt; target;</span><br><span class="line">            TreeNode* node = getNode(target);</span><br><span class="line">            cout &lt;&lt; &quot;Part &quot; &lt;&lt; target &lt;&lt; &quot; subparts are:&quot; &lt;&lt; endl;</span><br><span class="line">            for(auto&amp; child : node-&gt;children) &#123;</span><br><span class="line">                cout &lt;&lt; &quot;      &quot; &lt;&lt; child-&gt;count &lt;&lt; &quot; &quot; &lt;&lt; child-&gt;name &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else if(operation == &quot;howmany&quot;) &#123;</span><br><span class="line">            string child;</span><br><span class="line">            ss &gt;&gt; child &gt;&gt; target;</span><br><span class="line">            // Additional logic to calculate count based on child and target</span><br><span class="line">            // You may need to implement a function to recursively count the specified child nodes</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    infile.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    buildTree(&quot;D:\\Learn\\CPP2\\definitions.txt&quot;);</span><br><span class="line">    queryTree(&quot;D:\\Learn\\CPP2\\queries.txt&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实验四</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;fstream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;unordered_map&gt;</span><br><span class="line">#include &lt;set&gt;</span><br><span class="line">#include &lt;limits&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">// 城市结构</span><br><span class="line">struct City &#123;</span><br><span class="line">    string name;</span><br><span class="line">    unordered_map&lt;string, pair&lt;int, int&gt;&gt; neighbors; // 与该城市相邻的其他城市 -&gt; &#123;费用, 距离&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 图类</span><br><span class="line">class Graph &#123;</span><br><span class="line">public:</span><br><span class="line">    // 向图中添加城市</span><br><span class="line">    void addCity(const string&amp; cityName) &#123;</span><br><span class="line">        if (cities.find(cityName) == cities.end()) &#123;</span><br><span class="line">            cities[cityName] = City&#123;cityName, unordered_map&lt;string, pair&lt;int, int&gt;&gt;()&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 向图中添加路线</span><br><span class="line">    void addRoute(const string&amp; city1, const string&amp; city2, int cost, int distance) &#123;</span><br><span class="line">        cities[city1].neighbors[city2] = &#123;cost, distance&#125;;</span><br><span class="line">        cities[city2].neighbors[city1] = &#123;cost, distance&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 使用Dijkstra算法找到两个城市之间的最低费用路径</span><br><span class="line">    pair&lt;int, string&gt; shortestPath(const string&amp; start, const string&amp; end) &#123;</span><br><span class="line">        unordered_map&lt;string, int&gt; dist;      // 距离映射</span><br><span class="line">        unordered_map&lt;string, string&gt; prev;   // 前一个城市映射</span><br><span class="line">        set&lt;pair&lt;int, string&gt;&gt; queue;         // 用于排序的队列</span><br><span class="line"></span><br><span class="line">        for (auto&amp; pair : cities) &#123;</span><br><span class="line">            if (pair.first == start) &#123;</span><br><span class="line">                dist[pair.first] = 0;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                dist[pair.first] = numeric_limits&lt;int&gt;::max();</span><br><span class="line">            &#125;</span><br><span class="line">            queue.insert(&#123;dist[pair.first], pair.first&#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        while (!queue.empty()) &#123;</span><br><span class="line">            string current = queue.begin()-&gt;second;</span><br><span class="line">            queue.erase(queue.begin());</span><br><span class="line"></span><br><span class="line">            for (auto&amp; neighbor : cities[current].neighbors) &#123;</span><br><span class="line">                int alt = dist[current] + neighbor.second.first; // 以费用为优先级</span><br><span class="line">                if (alt &lt; dist[neighbor.first]) &#123;</span><br><span class="line">                    queue.erase(&#123;dist[neighbor.first], neighbor.first&#125;);</span><br><span class="line">                    dist[neighbor.first] = alt;</span><br><span class="line">                    prev[neighbor.first] = current;</span><br><span class="line">                    queue.insert(&#123;dist[neighbor.first], neighbor.first&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 构建路径</span><br><span class="line">        string city = end;</span><br><span class="line">        string path = end;</span><br><span class="line">        while (prev.find(city) != prev.end()) &#123;</span><br><span class="line">            path = prev[city] + &quot; -&gt; &quot; + path;</span><br><span class="line">            city = prev[city];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return &#123;dist[end], path&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    unordered_map&lt;string, City&gt; cities; // 城市映射</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    Graph graph;</span><br><span class="line"></span><br><span class="line">    // 从文件中读取城市数据</span><br><span class="line">    ifstream infile(&quot;D:\\Learn\\CPP2\\services.txt&quot;);</span><br><span class="line">    string city1, city2;</span><br><span class="line">    int cost, distance;</span><br><span class="line"></span><br><span class="line">    while (infile &gt;&gt; city1 &gt;&gt; city2 &gt;&gt; cost &gt;&gt; distance) &#123;</span><br><span class="line">        graph.addCity(city1);</span><br><span class="line">        graph.addCity(city2);</span><br><span class="line">        graph.addRoute(city1, city2, cost, distance);</span><br><span class="line">    &#125;</span><br><span class="line">    infile.close();</span><br><span class="line"></span><br><span class="line">    // 输入起始城市和目标城市</span><br><span class="line">    string start, end;</span><br><span class="line">    cout &lt;&lt; &quot;Enter a start and destination city: &quot;;</span><br><span class="line">    cin &gt;&gt; start &gt;&gt; end;</span><br><span class="line"></span><br><span class="line">    // 查找最短路径并打印</span><br><span class="line">    auto result = graph.shortestPath(start, end);</span><br><span class="line">    cout &lt;&lt; &quot;The cheapest route from &quot; &lt;&lt; start &lt;&lt; &quot; to &quot; &lt;&lt; end &lt;&lt; &quot; costs &quot; &lt;&lt; result.first &lt;&lt; &quot; euros.&quot; &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; &quot;Route: &quot; &lt;&lt; result.second &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Keras库中的LSTM模型进行依据时间的预测</title>
      <link href="/2023/08/17/py817-2/"/>
      <url>/2023/08/17/py817-2/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">from sklearn.preprocessing import MinMaxScaler</span><br><span class="line">from sklearn.metrics import mean_squared_error</span><br><span class="line">from keras.models import Sequential</span><br><span class="line">from keras.layers import LSTM, Dense</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">filepath = &#x27;/data810_2.xlsx&#x27;</span><br><span class="line">data = pd.read_excel(filepath)</span><br><span class="line">data[&#x27;Time&#x27;] = pd.to_datetime(data[&#x27;Time&#x27;], format=&#x27;%Y-%m-%d-%H.%M.%S.%f&#x27;)</span><br><span class="line">data = data.sort_values(&#x27;Time&#x27;)</span><br><span class="line">values = data[&#x27;Data&#x27;].values.reshape(-1, 1)</span><br><span class="line">scaler = MinMaxScaler()</span><br><span class="line">scaled = scaler.fit_transform(values)</span><br><span class="line"></span><br><span class="line">train_size = int(len(scaled) * 0.67)</span><br><span class="line">train, test = scaled[0:train_size], scaled[train_size:]</span><br><span class="line"></span><br><span class="line">def create_dataset(dataset, look_back=1):</span><br><span class="line">    X, Y = [], []</span><br><span class="line">    for i in range(len(dataset) - look_back - 1):</span><br><span class="line">        a = dataset[i:(i + look_back), 0]</span><br><span class="line">        X.append(a)</span><br><span class="line">        Y.append(dataset[i + look_back, 0])</span><br><span class="line">    return np.array(X), np.array(Y)</span><br><span class="line"></span><br><span class="line">look_back = 3</span><br><span class="line">trainX, trainY = create_dataset(train, look_back)</span><br><span class="line">testX, testY = create_dataset(test, look_back)</span><br><span class="line"></span><br><span class="line">trainX = np.reshape(trainX, (trainX.shape[0], 1, trainX.shape[1]))</span><br><span class="line">testX = np.reshape(testX, (testX.shape[0], 1, testX.shape[1]))</span><br><span class="line"></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(LSTM(50, input_shape=(1, look_back)))</span><br><span class="line">model.add(Dense(1))</span><br><span class="line">model.compile(loss=&#x27;mean_squared_error&#x27;, optimizer=&#x27;adam&#x27;)</span><br><span class="line">model.fit(trainX, trainY, epochs=100, batch_size=1)</span><br><span class="line"></span><br><span class="line">trainPredict = model.predict(trainX)</span><br><span class="line">testPredict = model.predict(testX)</span><br><span class="line"></span><br><span class="line">trainPredict = scaler.inverse_transform(trainPredict)</span><br><span class="line">trainY = scaler.inverse_transform([trainY])</span><br><span class="line">testPredict = scaler.inverse_transform(testPredict)</span><br><span class="line">testY = scaler.inverse_transform([testY])</span><br><span class="line"></span><br><span class="line">trainScore = np.sqrt(mean_squared_error(trainY[0], trainPredict[:, 0]))</span><br><span class="line">print(&#x27;Train Score: %.2f RMSE&#x27; % (trainScore))</span><br><span class="line">testScore = np.sqrt(mean_squared_error(testY[0], testPredict[:, 0]))</span><br><span class="line">print(&#x27;Test Score: %.2f RMSE&#x27; % (testScore))</span><br><span class="line"></span><br><span class="line">plt.plot(testY[0], label=&#x27;Actual&#x27;)</span><br><span class="line">plt.plot(testPredict[:, 0], label=&#x27;Predicted&#x27;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python, LSTM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用python寻找数据中的异常数据</title>
      <link href="/2023/08/17/py817-1/"/>
      <url>/2023/08/17/py817-1/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line"># 假设你的数据存在一个名为&#x27;data.csv&#x27;的CSV文件中，且有三列：&#x27;组编号&#x27;, &#x27;时间&#x27;, &#x27;数值&#x27;</span><br><span class="line">df = pd.read_csv(&#x27;TenMinuteData.csv&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def find_outliers(group):</span><br><span class="line">    Q1 = group.quantile(0.25)</span><br><span class="line">    Q3 = group.quantile(0.75)</span><br><span class="line">    IQR = Q3 - Q1</span><br><span class="line"></span><br><span class="line">    lower_bound = Q1 - 1.5 * IQR</span><br><span class="line">    upper_bound = Q3 + 1.5 * IQR</span><br><span class="line"></span><br><span class="line">    return group[(group &lt; lower_bound) | (group &gt; upper_bound)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">outliers = df.groupby(&#x27;PARAMID&#x27;)[&#x27;VALUE&#x27;].apply(find_outliers).reset_index()</span><br><span class="line"></span><br><span class="line"># 保存到Excel文件</span><br><span class="line">outliers.to_excel(&quot;outliers.xlsx&quot;, index=False, engine=&#x27;openpyxl&#x27;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CloudFactory1</title>
      <link href="/2023/06/01/CloudFactory1/"/>
      <url>/2023/06/01/CloudFactory1/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Stable Diffusion 提示词（Prompt）教学</title>
      <link href="/2023/05/04/Novel/"/>
      <url>/2023/05/04/Novel/</url>
      
        <content type="html"><![CDATA[<h1 id="提示词的应用"><a href="#提示词的应用" class="headerlink" title="提示词的应用"></a>提示词的应用</h1><p>使用模型：Stable Diffusion 文生图功能</p><h2 id="语法规则"><a href="#语法规则" class="headerlink" title="语法规则"></a>语法规则</h2><h3 id="英文书写"><a href="#英文书写" class="headerlink" title="英文书写"></a>英文书写</h3><p>  手动输入&#x2F;翻译<br>  可以将形容词分开来说明 例如：晴天的云朵 – 晴天 云朵</p><h3 id="分割词"><a href="#分割词" class="headerlink" title="分割词"></a>分割词</h3><p>  以英文“,”分割词语，例如</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1girl,snowman,forest,sun,sunshine, shining on body, ......</span><br></pre></td></tr></table></figure><h2 id="提示词分类"><a href="#提示词分类" class="headerlink" title="提示词分类"></a>提示词分类</h2><h3 id="人物主体及特征"><a href="#人物主体及特征" class="headerlink" title="人物主体及特征"></a>人物主体及特征</h3><h4 id="服饰穿搭-white-dress"><a href="#服饰穿搭-white-dress" class="headerlink" title="服饰穿搭 white dress"></a>服饰穿搭 white dress</h4><h4 id="发型发色-long-hair"><a href="#发型发色-long-hair" class="headerlink" title="发型发色 long hair"></a>发型发色 long hair</h4><h4 id="五官特点-small-eyes"><a href="#五官特点-small-eyes" class="headerlink" title="五官特点 small eyes"></a>五官特点 small eyes</h4><h4 id="面部表情-smiling"><a href="#面部表情-smiling" class="headerlink" title="面部表情 smiling"></a>面部表情 smiling</h4><h4 id="肢体动作-stretching"><a href="#肢体动作-stretching" class="headerlink" title="肢体动作 stretching"></a>肢体动作 stretching</h4><p>###场景特征<br>可以适量加入形容词 细节</p><h4 id="室内-室外"><a href="#室内-室外" class="headerlink" title="室内 室外"></a>室内 室外</h4><h4 id="大场景-蓝天-森林-大海"><a href="#大场景-蓝天-森林-大海" class="headerlink" title="大场景 蓝天 森林 大海"></a>大场景 蓝天 森林 大海</h4><h4 id="小细节-白云-小路-花"><a href="#小细节-白云-小路-花" class="headerlink" title="小细节  白云 小路 花"></a>小细节  白云 小路 花</h4><h3 id="环境光照"><a href="#环境光照" class="headerlink" title="环境光照"></a>环境光照</h3><h4 id="白天黑夜-day-x2F-night"><a href="#白天黑夜-day-x2F-night" class="headerlink" title="白天黑夜 day&#x2F;night"></a>白天黑夜 day&#x2F;night</h4><h4 id="特定时段-morning"><a href="#特定时段-morning" class="headerlink" title="特定时段 morning"></a>特定时段 morning</h4><h4 id="光环境-sunlight"><a href="#光环境-sunlight" class="headerlink" title="光环境 sunlight"></a>光环境 sunlight</h4><h4 id="天空-Blue-Sky"><a href="#天空-Blue-Sky" class="headerlink" title="天空 Blue Sky"></a>天空 Blue Sky</h4><h3 id="补充：画幅视角"><a href="#补充：画幅视角" class="headerlink" title="补充：画幅视角"></a>补充：画幅视角</h3><h4 id="距离"><a href="#距离" class="headerlink" title="距离"></a>距离</h4><h4 id="人物比例"><a href="#人物比例" class="headerlink" title="人物比例"></a>人物比例</h4><h4 id="观察视角"><a href="#观察视角" class="headerlink" title="观察视角"></a>观察视角</h4><h4 id="镜头类型"><a href="#镜头类型" class="headerlink" title="镜头类型"></a>镜头类型</h4><h3 id="内容提示词"><a href="#内容提示词" class="headerlink" title="内容提示词"></a>内容提示词</h3><h4 id="通用高画质"><a href="#通用高画质" class="headerlink" title="通用高画质"></a>通用高画质</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">best quality, ultra-detailed, masterpiece, hires, 8k</span><br></pre></td></tr></table></figure><h4 id="特定高分辨率类型"><a href="#特定高分辨率类型" class="headerlink" title="特定高分辨率类型"></a>特定高分辨率类型</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extremely detailed CG unity 8k wallpaper, unreal engine rendered</span><br></pre></td></tr></table></figure><p>超精细的8kUnity游戏CG，虚幻引擎渲染</p><h3 id="画风提示词"><a href="#画风提示词" class="headerlink" title="画风提示词"></a>画风提示词</h3><h4 id="插画风-illustration-paintbrush"><a href="#插画风-illustration-paintbrush" class="headerlink" title="插画风 illustration paintbrush"></a>插画风 illustration paintbrush</h4><h4 id="二次元-anime-comic-game-CG"><a href="#二次元-anime-comic-game-CG" class="headerlink" title="二次元 anime, comic, game CG"></a>二次元 anime, comic, game CG</h4><h4 id="写实系-photorealistic-realistic-photograph-–基于真实系训练的模型"><a href="#写实系-photorealistic-realistic-photograph-–基于真实系训练的模型" class="headerlink" title="写实系 photorealistic, realistic, photograph –基于真实系训练的模型"></a>写实系 photorealistic, realistic, photograph –基于真实系训练的模型</h4><h2 id="模板框架"><a href="#模板框架" class="headerlink" title="模板框架"></a>模板框架</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">描述人物</span><br><span class="line">描述场景</span><br><span class="line">描述环境（时间，光照）</span><br><span class="line">描述画幅视角</span><br><span class="line">其他画面要素</span><br><span class="line">------------------------------------</span><br><span class="line">高品质标准化</span><br><span class="line">画风标准化</span><br><span class="line">其他特殊要求</span><br></pre></td></tr></table></figure><h2 id="权重与负面提示词"><a href="#权重与负面提示词" class="headerlink" title="权重与负面提示词"></a>权重与负面提示词</h2><h3 id="权重"><a href="#权重" class="headerlink" title="权重"></a>权重</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(Prompt) 1.1倍 可叠加多重括号1.21</span><br><span class="line">(Prompt:1.2) 1.2倍 冒号后是倍数</span><br><span class="line">&#123;Prompt&#125; 1.05倍</span><br><span class="line">[Prompt] 0.9倍</span><br></pre></td></tr></table></figure><h4 id="注意：要避免某个词条过高-在0-5-1-5之间"><a href="#注意：要避免某个词条过高-在0-5-1-5之间" class="headerlink" title="注意：要避免某个词条过高 在0.5-1.5之间"></a>注意：要避免某个词条过高 在0.5-1.5之间</h4><h3 id="进阶语法"><a href="#进阶语法" class="headerlink" title="进阶语法"></a>进阶语法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">white | yellow flower 混合要素 生成黄色和白色的花</span><br><span class="line">[white|red|blue] flower 迁移要素 先生成白花，再生成红花，再生成蓝花</span><br><span class="line">(white flower:bush:0.8) 进程到达80%（0.8）之前生成白花， 80%之后生成灌木</span><br></pre></td></tr></table></figure><h3 id="负面提示词"><a href="#负面提示词" class="headerlink" title="负面提示词"></a>负面提示词</h3><h4 id="杜绝低质量"><a href="#杜绝低质量" class="headerlink" title="杜绝低质量"></a>杜绝低质量</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(worst quelity:2),(low quality:2),lowres, normal quelity, </span><br></pre></td></tr></table></figure><h4 id="使画面鲜艳"><a href="#使画面鲜艳" class="headerlink" title="使画面鲜艳"></a>使画面鲜艳</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((monochrome)),((grayscale))</span><br></pre></td></tr></table></figure><h4 id="负面词可抄"><a href="#负面词可抄" class="headerlink" title="负面词可抄"></a>负面词可抄</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSFW, (worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((grayscale)), skin spots, acnes, skin blemishes, age spot, (ugly:1.331), (duplicate:1.331), (morbid:1.21), (mutilated:1.21), (tranny:1.331), mutated hands, (poorly drawn hands:1.5), blurry, (bad anatomy:1.21), (bad proportions:1.331), extra limbs, (disfigured:1.331), (missing arms:1.331), (extra legs:1.331), (fused fingers:1.61051), (too many fingers:1.61051), (unclear eyes:1.331), lowers, bad hands, missing fingers, extra digit,bad hands, missing fingers, (((extra arms and legs))),</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Stable Diffusion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java 作业 Gourmet Coffee System 实验1</title>
      <link href="/2023/04/22/java003/"/>
      <url>/2023/04/22/java003/</url>
      
        <content type="html"><![CDATA[<h1 id="为大家提供一个小小的思路"><a href="#为大家提供一个小小的思路" class="headerlink" title="为大家提供一个小小的思路"></a>为大家提供一个小小的思路</h1><h3 id="SalesFormatter接口"><a href="#SalesFormatter接口" class="headerlink" title="SalesFormatter接口"></a>SalesFormatter接口</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">package GourmetCoffee;</span><br><span class="line"></span><br><span class="line">public interface SalesFormatter &#123;</span><br><span class="line">public abstract String formatSales(Sales sales);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="PlainTextSalesFormatter类"><a href="#PlainTextSalesFormatter类" class="headerlink" title="PlainTextSalesFormatter类"></a>PlainTextSalesFormatter类</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">package GourmetCoffee;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.io.*;</span><br><span class="line"> </span><br><span class="line">public class PlainTextSalesFormatter implements SalesFormatter&#123;</span><br><span class="line"> </span><br><span class="line">private static PlainTextSalesFormatter singletonInstance;</span><br><span class="line"></span><br><span class="line">private PlainTextSalesFormatter()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static PlainTextSalesFormatter getSingletonInstance()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">if(singletonInstance==null) </span><br><span class="line">&#123;</span><br><span class="line">return singletonInstance=new PlainTextSalesFormatter();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return singletonInstance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">private ArrayList&lt;String&gt; info=new ArrayList&lt;String&gt;();</span><br><span class="line">public String formatSales(Sales sales)</span><br><span class="line">&#123;</span><br><span class="line">int k=1;</span><br><span class="line"></span><br><span class="line">for(Order order:sales)</span><br><span class="line">&#123;</span><br><span class="line">info.add(&quot;------------------------\n&quot;);</span><br><span class="line">info.add(&quot;Order &quot;+k+&quot;\n\n&quot;);</span><br><span class="line">for(OrderItem orderItem:order)</span><br><span class="line">&#123;</span><br><span class="line">info.add(orderItem.getQuantity()+&quot; &quot;+orderItem.getProduct().getCode()+&quot; &quot;+orderItem.getProduct().getPrice()+&quot;\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">info.add(&quot;Total = &quot;+order.getTotalCost()+&quot;\n&quot;);</span><br><span class="line">k++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">String res=&quot;&quot;;</span><br><span class="line">for(int i=0;i&lt;info.size();i++)</span><br><span class="line">&#123;</span><br><span class="line">res+=info.get(i);</span><br><span class="line">&#125;</span><br><span class="line">return res;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="HTMLSalesFormatter类"><a href="#HTMLSalesFormatter类" class="headerlink" title="HTMLSalesFormatter类"></a>HTMLSalesFormatter类</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">package GourmetCoffee;</span><br><span class="line">import java.util.*;</span><br><span class="line">public class HTMLSalesFormatter implements SalesFormatter&#123;</span><br><span class="line"> </span><br><span class="line">private static HTMLSalesFormatter singletonInstance;</span><br><span class="line"></span><br><span class="line">private HTMLSalesFormatter()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">public static HTMLSalesFormatter getSingletonInstance()</span><br><span class="line">&#123;</span><br><span class="line">if(singletonInstance==null) </span><br><span class="line">&#123;</span><br><span class="line">return singletonInstance=new HTMLSalesFormatter();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return singletonInstance;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">private ArrayList&lt;String&gt; output=new ArrayList&lt;String&gt;();</span><br><span class="line">public String formatSales(Sales sales)</span><br><span class="line">&#123;</span><br><span class="line">output.add(&quot;&lt;html&gt;\n&quot;+&quot;  &lt;body&gt;\n&quot;+&quot;    &lt;center&gt;&lt;h2&gt;Orders&lt;/h2&gt;&lt;/center&gt;\n&quot;);</span><br><span class="line"></span><br><span class="line">for(Order order:sales)</span><br><span class="line">&#123;</span><br><span class="line">output.add(&quot;    &lt;hr&gt;\n&quot;+&quot;    &lt;h4&gt;Total = &quot;+order.getTotalCost()+&quot;&lt;/h4&gt;\n&quot;);</span><br><span class="line"></span><br><span class="line">for(OrderItem orderItem:order)</span><br><span class="line">&#123;</span><br><span class="line">output.add(&quot;      &lt;p&gt;\n&quot;+&quot;        &lt;b&gt;code:&lt;/b&gt; &quot;+orderItem.getProduct().getCode()+&quot;&lt;br&gt;\n&quot;);</span><br><span class="line">output.add(&quot;        &lt;b&gt;quantity:&lt;/b&gt; &quot;+orderItem.getQuantity()+&quot;&lt;br&gt;\n&quot;);</span><br><span class="line">output.add(&quot;        &lt;b&gt;price:&lt;/b&gt; &quot;+orderItem.getProduct().getPrice()+&quot;\n      &lt;/p&gt;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">output.add(&quot;  &lt;/body&gt;\n&quot;+&quot;&lt;/html&gt;&quot;);</span><br><span class="line">String res=&quot;&quot;;</span><br><span class="line">for(int i=0;i&lt;output.size();i++)</span><br><span class="line">&#123;</span><br><span class="line">res+=output.get(i);</span><br><span class="line">&#125;</span><br><span class="line">return res;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="XMLSalesFormatter类"><a href="#XMLSalesFormatter类" class="headerlink" title="XMLSalesFormatter类"></a>XMLSalesFormatter类</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package GourmetCoffee;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">public class XMLSalesFormatter implements SalesFormatter&#123;</span><br><span class="line"></span><br><span class="line">private static XMLSalesFormatter singletonInstance;</span><br><span class="line"></span><br><span class="line">private XMLSalesFormatter()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">public static XMLSalesFormatter getSingletonInstance()</span><br><span class="line">&#123;</span><br><span class="line">if(singletonInstance==null) </span><br><span class="line">&#123;</span><br><span class="line">return singletonInstance=new XMLSalesFormatter();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return singletonInstance;</span><br><span class="line">&#125;</span><br><span class="line">private ArrayList&lt;String&gt; output=new ArrayList&lt;String&gt;();</span><br><span class="line">public String formatSales(Sales sales) &#123;</span><br><span class="line">output.add(&quot;&lt;Sales&gt;\n&quot;);</span><br><span class="line">for(Order order: sales)</span><br><span class="line">&#123;</span><br><span class="line">output.add(&quot;  &lt;Order total=\&quot;&quot;+ order.getTotalCost()+&quot;\&quot;&gt;\n&quot;);</span><br><span class="line">for(OrderItem orderitem: order)</span><br><span class="line">&#123;</span><br><span class="line">output.add(&quot;    &lt;OrderItem quantity=\&quot;&quot;+ orderitem.getQuantity()+&quot;\&quot; price=\&quot;&quot;+orderitem.getProduct()+&quot;\&quot;&gt;code1&lt;/OrderItem&gt;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">output.add(&quot;  &lt;/Order&gt;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">output.add(&quot;&lt;/Sales&gt;\n&quot;);</span><br><span class="line">String res = &quot;&quot; ;</span><br><span class="line">for(int i=0;i&lt;output.size();i++) &#123;</span><br><span class="line">res+=output.get(i);</span><br><span class="line">&#125;</span><br><span class="line">return res;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="GourmetCoffee类"><a href="#GourmetCoffee类" class="headerlink" title="GourmetCoffee类"></a>GourmetCoffee类</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br></pre></td><td class="code"><pre><span class="line">package GourmetCoffee;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.util.*;</span><br><span class="line">//import java.text.*;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * This class implements a gourmet coffee system.</span><br><span class="line"> *</span><br><span class="line"> * @author author name</span><br><span class="line"> * @version 1.1.0</span><br><span class="line"> * @see Product</span><br><span class="line"> * @see Coffee</span><br><span class="line"> * @see CoffeeBrewer</span><br><span class="line"> * @see Catalog</span><br><span class="line"> * @see OrderItem</span><br><span class="line"> * @see Order</span><br><span class="line"> * @see SalesFormatter</span><br><span class="line"> * @see PlainTextSalesFormatter</span><br><span class="line"> * @see HTMLSalesFormatter</span><br><span class="line"> * @see XMLSalesFormatter</span><br><span class="line"> */</span><br><span class="line">public class GourmetCoffee  &#123;</span><br><span class="line"></span><br><span class="line">private static BufferedReader  stdIn =</span><br><span class="line">new  BufferedReader(new  InputStreamReader(System.in));</span><br><span class="line">private static PrintWriter  stdOut = new  PrintWriter(System.out, true);</span><br><span class="line">private static PrintWriter  stdErr = new  PrintWriter(System.err, true);</span><br><span class="line"></span><br><span class="line">private Sales  sales;</span><br><span class="line"></span><br><span class="line">private SalesFormatter  salesFormatter;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Loads data into the catalog and starts the application.</span><br><span class="line"> *</span><br><span class="line"> * @param args  String arguments.  Not used.</span><br><span class="line"> * @throws IOException if there are errors in the input.</span><br><span class="line"> */</span><br><span class="line">public static void  main(String[]  args) throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">GourmetCoffee  application = new  GourmetCoffee();</span><br><span class="line">application.run();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Constructs a &lt;code&gt;GourmetCoffee&lt;/code&gt; object and</span><br><span class="line"> * initializes the catalog and sales data.</span><br><span class="line"> *</span><br><span class="line"> * @param initialCatalog a product catalog</span><br><span class="line"> */</span><br><span class="line">private GourmetCoffee() &#123;</span><br><span class="line"></span><br><span class="line">this.sales = new Sales();</span><br><span class="line">this.salesFormatter = </span><br><span class="line">PlainTextSalesFormatter.getSingletonInstance();</span><br><span class="line"></span><br><span class="line">loadSales(loadCatalog());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Creates an empty catalog and then add products to it.</span><br><span class="line"> *</span><br><span class="line"> * @return a product catalog</span><br><span class="line"> */</span><br><span class="line">private Catalog loadCatalog() &#123;</span><br><span class="line"></span><br><span class="line">Catalog catalog = new Catalog();</span><br><span class="line"></span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C001&quot;, &quot;Colombia, Whole, 1 lb&quot;, 17.99,</span><br><span class="line">&quot;Colombia&quot;, &quot;Medium&quot;, &quot;Rich and Hearty&quot;, &quot;Rich&quot;,</span><br><span class="line">&quot;Medium&quot;, &quot;Full&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C002&quot;, &quot;Colombia, Ground, 1 lb&quot;, 18.75,</span><br><span class="line">&quot;Colombia&quot;, &quot;Medium&quot;, &quot;Rich and Hearty&quot;, &quot;Rich&quot;,</span><br><span class="line">&quot;Medium&quot;,&quot;Full&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C003&quot;, &quot;Italian Roasts, Whole, 1 lb&quot;,</span><br><span class="line">16.80, &quot;Latin American Blend&quot;, &quot;Italian Roast&quot;,</span><br><span class="line">&quot;Dark and heavy&quot;, &quot;Intense&quot;, &quot;Low&quot;, &quot;Medium&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C004&quot;, &quot;Italian Roasts, Ground, 1 lb&quot;,</span><br><span class="line">17.55, &quot;Latin American Blend&quot;, &quot;Italian Roast&quot;,</span><br><span class="line">&quot;Dark and heavy&quot;, &quot;Intense&quot;, &quot;Low&quot;, &quot;Medium&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C005&quot;, &quot;French Roasts, Whole, 1 lb&quot;,</span><br><span class="line">16.80, &quot;Latin American Blend&quot;, &quot;French Roast&quot;,</span><br><span class="line">&quot;Bittersweet, full intense&quot;, &quot;Intense, full&quot;, &quot;None&quot;, &quot;Medium&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C006&quot;, &quot;French Roasts, Ground, 1 lb&quot;,</span><br><span class="line">17.55, &quot;Latin American Blend&quot;, &quot;French Roast&quot;,</span><br><span class="line">&quot;Bittersweet, full intense&quot;, &quot;Intense, full&quot;, &quot;None&quot;, &quot;Medium&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C007&quot;, &quot;Guatemala, Ground, 1 lb&quot;, 17.99,</span><br><span class="line">&quot;Guatemala&quot;, &quot;Medium&quot;, &quot;Rich and complex&quot;, &quot;Spicy&quot;,</span><br><span class="line">&quot;Medium to high&quot;, &quot;Medium to full&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C008&quot;, &quot;Guatemala, Ground, 1 lb&quot;, 18.75,</span><br><span class="line">&quot;Guatemala&quot;, &quot;Medium&quot;, &quot;Rich and complex&quot;, &quot;Spicy&quot;,</span><br><span class="line">&quot;Medium to high&quot;, &quot;Medium to full&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C009&quot;, &quot;Guatemala, Whole, 1 lb&quot;, 19.99,</span><br><span class="line">&quot;Sumatra&quot;, &quot;Medium&quot;, &quot;Vibrant and powdery&quot;,</span><br><span class="line">&quot;Like dark chocolate&quot;, &quot;Gentle&quot;, &quot;Rich and full&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C010&quot;, &quot;Guatemala, Ground, 1 lb&quot;, 20.50,</span><br><span class="line">&quot;Sumatra&quot;, &quot;Medium&quot;, &quot;Vibrant and powdery&quot;,</span><br><span class="line">&quot;Like dark chocolate&quot;, &quot;Gentle&quot;, &quot;Rich and full&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C011&quot;, &quot;Special Blend, Whole, 1 lb&quot;,</span><br><span class="line">16.80, &quot;Latin American Blend&quot;, &quot;Dark roast&quot;,</span><br><span class="line">&quot;Full, roasted flavor&quot;, &quot;Hearty&quot;, &quot;Bold and rich&quot;, &quot;Full&quot;));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Coffee(&quot;C012&quot;, &quot;Special Blend, Ground, 1 lb&quot;,</span><br><span class="line">17.55, &quot;Latin American Blend&quot;, &quot;Dark roast&quot;,</span><br><span class="line">&quot;Full, roasted flavor&quot;, &quot;Hearty&quot;, &quot;Bold and rich&quot;, &quot;Full&quot;));</span><br><span class="line"></span><br><span class="line">catalog.addProduct(</span><br><span class="line">new CoffeeBrewer(&quot;B001&quot;, &quot;Home Coffee Brewer&quot;,</span><br><span class="line">150.00, &quot;Brewer 100&quot;, &quot;Pourover&quot;, 6));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new CoffeeBrewer(&quot;B002&quot;, &quot;Coffee Brewer, 2 Warmers&quot;,</span><br><span class="line">200.00, &quot;Brewer 200&quot;, &quot;Pourover&quot;, 12));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new CoffeeBrewer(&quot;B003&quot;, &quot;Coffee Brewer, 3 Warmers&quot;,</span><br><span class="line">280.00, &quot;Brewer 210&quot;, &quot;Pourover&quot;, 12));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new CoffeeBrewer(&quot;B004&quot;, &quot;Commercial Brewer, 20 cups&quot;,</span><br><span class="line">380.00, &quot;Quick Coffee 100&quot;, &quot;Automatic&quot;, 20));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new CoffeeBrewer(&quot;B005&quot;, &quot;Commercial Brewer, 40 cups&quot;,</span><br><span class="line">480.00, &quot;Quick Coffee 200&quot;, &quot;Automatic&quot;, 40));</span><br><span class="line"></span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A001&quot;, &quot;Almond Flavored Syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A002&quot;, &quot;Irish Creme Flavored Syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A003&quot;, &quot;Mint Flavored syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A004&quot;, &quot;Caramel Flavored Syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A005&quot;, &quot;Gourmet Coffee Cookies&quot;, 12.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A006&quot;, &quot;Gourmet Coffee Travel Thermo&quot;, 18.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A007&quot;, &quot;Gourmet Coffee Ceramic Mug&quot;, 8.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A008&quot;, &quot;Gourmet Coffee 12 Filters&quot;, 15.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A009&quot;, &quot;Gourmet Coffee 36 Filters&quot;, 45.00));</span><br><span class="line"></span><br><span class="line">return catalog;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Initializes the sales object.</span><br><span class="line"> */</span><br><span class="line">private void loadSales(Catalog catalog) &#123;</span><br><span class="line"></span><br><span class="line">Order orderOne = new Order();</span><br><span class="line"></span><br><span class="line">orderOne.addItem(new OrderItem(catalog.getProduct(&quot;C001&quot;), 5));</span><br><span class="line">this.sales.addOrder(orderOne);</span><br><span class="line"></span><br><span class="line">Order orderTwo = new Order();</span><br><span class="line"></span><br><span class="line">orderTwo.addItem(new OrderItem(catalog.getProduct(&quot;C002&quot;), 2));</span><br><span class="line">orderTwo.addItem(new OrderItem(catalog.getProduct(&quot;A001&quot;), 2));</span><br><span class="line">this.sales.addOrder(orderTwo);</span><br><span class="line"></span><br><span class="line">Order orderThree = new Order();</span><br><span class="line"></span><br><span class="line">orderThree.addItem(new OrderItem(catalog.getProduct(&quot;B002&quot;), 1));</span><br><span class="line">this.sales.addOrder(orderThree);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Displays a menu of options and verifies the user&#x27;s choice.</span><br><span class="line"> *</span><br><span class="line"> * @return an integer in the range [0,3]</span><br><span class="line"> */</span><br><span class="line">private int  getChoice() throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">int  input;</span><br><span class="line"></span><br><span class="line">do  &#123;</span><br><span class="line">try  &#123;</span><br><span class="line">stdErr.println();</span><br><span class="line">stdErr.print(&quot;[0]  Quit\n&quot;</span><br><span class="line">             + &quot;[1]  Display sales (Plain Text)\n&quot;</span><br><span class="line">             + &quot;[2]  Display sales (HTML)\n&quot;</span><br><span class="line">             + &quot;[3]  Display sales (XML)\n&quot;</span><br><span class="line">             + &quot;choice&gt; &quot;);</span><br><span class="line">stdErr.flush();</span><br><span class="line"></span><br><span class="line">input = Integer.parseInt(stdIn.readLine());</span><br><span class="line"></span><br><span class="line">stdErr.println();</span><br><span class="line"></span><br><span class="line">if (0 &lt;= input &amp;&amp; 3 &gt;= input)  &#123;</span><br><span class="line">break;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">stdErr.println(&quot;Invalid choice:  &quot; + input);</span><br><span class="line">&#125;</span><br><span class="line">&#125; catch (NumberFormatException  nfe)  &#123;</span><br><span class="line">stdErr.println(nfe);</span><br><span class="line">&#125;</span><br><span class="line">&#125;  while (true);</span><br><span class="line"></span><br><span class="line">return  input;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Changes the sales formatter.</span><br><span class="line"> *</span><br><span class="line"> * @param newFormatter a sales formatter</span><br><span class="line"> */</span><br><span class="line">private void setSalesFormatter(SalesFormatter newFormatter)&#123;</span><br><span class="line">this.salesFormatter = newFormatter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Displays the sales information in the current format.</span><br><span class="line"> */</span><br><span class="line">private void displaySales() &#123;</span><br><span class="line">System.out.println(this.salesFormatter.formatSales(sales));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Presents the user with a menu of options and executes the</span><br><span class="line"> * selected task.</span><br><span class="line"> */</span><br><span class="line">private void run() throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">int  choice = getChoice();</span><br><span class="line"></span><br><span class="line">while (choice != 0)  &#123;</span><br><span class="line"></span><br><span class="line">if (choice == 1)  &#123;</span><br><span class="line"></span><br><span class="line">this.setSalesFormatter(PlainTextSalesFormatter.getSingletonInstance());</span><br><span class="line">this.displaySales();</span><br><span class="line"></span><br><span class="line">&#125; else if (choice == 2)  &#123;</span><br><span class="line"></span><br><span class="line">this.setSalesFormatter(HTMLSalesFormatter.getSingletonInstance());</span><br><span class="line">this.displaySales();</span><br><span class="line"></span><br><span class="line">&#125; else if (choice == 3)  &#123;</span><br><span class="line"></span><br><span class="line">this.setSalesFormatter(XMLSalesFormatter.getSingletonInstance());</span><br><span class="line">this.displaySales();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">choice = getChoice();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><h4 id="接口的继承及重写"><a href="#接口的继承及重写" class="headerlink" title="接口的继承及重写"></a>接口的继承及重写</h4><h4 id="在GourmetCoffee类中通过setSalesFormatter-改写本类中的salesFormatter，通过formatSales实现多态"><a href="#在GourmetCoffee类中通过setSalesFormatter-改写本类中的salesFormatter，通过formatSales实现多态" class="headerlink" title="在GourmetCoffee类中通过setSalesFormatter()改写本类中的salesFormatter，通过formatSales实现多态"></a>在GourmetCoffee类中通过setSalesFormatter()改写本类中的salesFormatter，通过formatSales实现多态</h4>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java 作业 Gourmet Coffee System 作业2</title>
      <link href="/2023/04/13/java002/"/>
      <url>/2023/04/13/java002/</url>
      
        <content type="html"><![CDATA[<h1 id="Java-作业-Gourmet-Coffee-System-作业2"><a href="#Java-作业-Gourmet-Coffee-System-作业2" class="headerlink" title="Java 作业 Gourmet Coffee System 作业2"></a>Java 作业 Gourmet Coffee System 作业2</h1><h3 id="Catalog-Class"><a href="#Catalog-Class" class="headerlink" title="Catalog Class"></a>Catalog Class</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class Catalog implements Iterable&lt;Product&gt;&#123;</span><br><span class="line">private ArrayList&lt;Product&gt; products;</span><br><span class="line">public Catalog() &#123;</span><br><span class="line">this.products = new ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line">public void addProduct(Product product) &#123;</span><br><span class="line">this.products.add(product);</span><br><span class="line">&#125;</span><br><span class="line">public Iterator&lt;Product&gt; iterator() &#123;</span><br><span class="line">        return products.iterator();</span><br><span class="line">    &#125;</span><br><span class="line">public Product getProduct(String code)&#123;</span><br><span class="line">        for(Product product:this.products)&#123;</span><br><span class="line">            if(product.getCode().equals(code))&#123;</span><br><span class="line">                return product;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return null;</span><br><span class="line">&#125;</span><br><span class="line">public int getNumberOfProducts()&#123;</span><br><span class="line">        return this.products.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Oeder-Class"><a href="#Oeder-Class" class="headerlink" title="Oeder Class"></a>Oeder Class</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.util.*;</span><br><span class="line">public class Order implements Iterable&lt;OrderItem&gt;&#123;</span><br><span class="line">private ArrayList&lt;OrderItem&gt;items;</span><br><span class="line">public Order() &#123;</span><br><span class="line">this.items = new ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line">public Iterator&lt;OrderItem&gt; iterator() &#123;</span><br><span class="line">return items.iterator();</span><br><span class="line">&#125;</span><br><span class="line">public void addItem(OrderItem orderItem) &#123;</span><br><span class="line">this.items.add(orderItem);</span><br><span class="line">&#125;</span><br><span class="line">public void removeItem(OrderItem orderItem) &#123;</span><br><span class="line">this.items.remove(orderItem);</span><br><span class="line">&#125;</span><br><span class="line">public OrderItem getItem(Product product) &#123;</span><br><span class="line">for(OrderItem orderitem:this.items ) &#123;</span><br><span class="line">if(orderitem.getProduct().equals(product))</span><br><span class="line">return orderitem;</span><br><span class="line">&#125;</span><br><span class="line">return null;</span><br><span class="line">&#125;</span><br><span class="line">public int getNumberOfItems() &#123;</span><br><span class="line">return this.items.size();</span><br><span class="line">&#125;</span><br><span class="line">public double getTotalCost() &#123;</span><br><span class="line">double totalCost = 0;</span><br><span class="line">for(OrderItem orderitem:this.items) &#123;</span><br><span class="line">totalCost+=orderitem.getValue();</span><br><span class="line">&#125;</span><br><span class="line">return totalCost;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Sales-Class"><a href="#Sales-Class" class="headerlink" title="Sales Class"></a>Sales Class</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.util.*;</span><br><span class="line">public class Sales implements Iterable&lt;Order&gt;&#123;</span><br><span class="line">private ArrayList&lt;Order&gt;orders;</span><br><span class="line">public Sales() &#123;</span><br><span class="line">this.orders = new ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line">public void addOrder(Order order) &#123;</span><br><span class="line">this.orders.add(order);</span><br><span class="line">&#125;</span><br><span class="line">public Iterator&lt;Order&gt; iterator() &#123;</span><br><span class="line">return orders.iterator();</span><br><span class="line">&#125;</span><br><span class="line">public int getNumberOfOrders() &#123;</span><br><span class="line">return this.orders.size();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="GourmetCoffee-Class"><a href="#GourmetCoffee-Class" class="headerlink" title="GourmetCoffee Class"></a>GourmetCoffee Class</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br></pre></td><td class="code"><pre><span class="line">import java.io.*;</span><br><span class="line">import java.util.*;</span><br><span class="line">import java.text.*;</span><br><span class="line"></span><br><span class="line">public class GourmetCoffee  &#123;</span><br><span class="line"></span><br><span class="line">private static BufferedReader  stdIn =</span><br><span class="line">new  BufferedReader(new  InputStreamReader(System.in));</span><br><span class="line">private static PrintWriter  stdOut =</span><br><span class="line">new  PrintWriter(System.out, true);</span><br><span class="line">private static PrintWriter  stdErr =</span><br><span class="line">new  PrintWriter(System.err, true);</span><br><span class="line"></span><br><span class="line">private static final NumberFormat CURRENCY =</span><br><span class="line">NumberFormat.getCurrencyInstance();</span><br><span class="line"></span><br><span class="line">private Catalog  catalog;</span><br><span class="line">private Order  currentOrder;</span><br><span class="line">private Sales  sales;</span><br><span class="line">public static void  main(String[]  args) throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">GourmetCoffee  application = new  GourmetCoffee();</span><br><span class="line">application.run();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">private GourmetCoffee() &#123;</span><br><span class="line"></span><br><span class="line">this.catalog = loadCatalog();</span><br><span class="line">this.sales = loadSales(this.catalog);</span><br><span class="line">this.currentOrder = new Order();</span><br><span class="line">&#125;</span><br><span class="line">private Catalog loadCatalog() &#123;</span><br><span class="line"></span><br><span class="line">Catalog catalog = new Catalog();</span><br><span class="line"></span><br><span class="line">catalog.addProduct(new Coffee(</span><br><span class="line">&quot;C001&quot;, &quot;Colombia, Whole, 1 lb&quot;, 17.99,</span><br><span class="line">&quot;Colombia&quot;, &quot;Medium&quot;, &quot;Rich and Hearty&quot;, &quot;Rich&quot;, &quot;Medium&quot;, &quot;Full&quot;));</span><br><span class="line">catalog.addProduct(new Coffee(</span><br><span class="line">&quot;C002&quot;, &quot;Colombia, Ground, 1 lb&quot;, 18.75,</span><br><span class="line">&quot;Colombia&quot;, &quot;Medium&quot;, &quot;Rich and Hearty&quot;, &quot;Rich&quot;, &quot;Medium&quot;,&quot;Full&quot;));</span><br><span class="line">catalog.addProduct(new Coffee(</span><br><span class="line">&quot;C003&quot;, &quot;Italian Roasts, Whole, 1 lb&quot;, 16.80,</span><br><span class="line">&quot;Latin American Blend&quot;, &quot;Italian Roast&quot;, &quot;Dark and heavy&quot;,</span><br><span class="line">&quot;Intense&quot;, &quot;Low&quot;, &quot;Medium&quot;));</span><br><span class="line">catalog.addProduct(new Coffee(</span><br><span class="line">&quot;C004&quot;, &quot;Italian Roasts, Ground, 1 lb&quot;, 17.55,</span><br><span class="line">&quot;Latin American Blend&quot;, &quot;Italian Roast&quot;, &quot;Dark and heavy&quot;,</span><br><span class="line">&quot;Intense&quot;, &quot;Low&quot;, &quot;Medium&quot;));</span><br><span class="line">catalog.addProduct(new Coffee(</span><br><span class="line">&quot;C005&quot;, &quot;French Roasts, Whole, 1 lb&quot;, 16.80,</span><br><span class="line">&quot;Latin American Blend&quot;, &quot;French Roast&quot;, &quot;Bittersweet, full intense&quot;,</span><br><span class="line">&quot;Intense, full&quot;, &quot;None&quot;, &quot;Medium&quot;));</span><br><span class="line">catalog.addProduct(new CoffeeBrewer(</span><br><span class="line">&quot;B001&quot;, &quot;Home Coffee Brewer&quot;, 150.00,</span><br><span class="line">&quot;Brewer 100&quot;, &quot;Pourover&quot;, 6));</span><br><span class="line">catalog.addProduct(new CoffeeBrewer(</span><br><span class="line">&quot;B002&quot;, &quot;Coffee Brewer, 2 Warmers&quot;, 200.00,</span><br><span class="line">&quot;Brewer 200&quot;, &quot;Pourover&quot;, 12));</span><br><span class="line">catalog.addProduct(new CoffeeBrewer(</span><br><span class="line">&quot;B003&quot;, &quot;Coffee Brewer, 3 Warmers&quot;, 280.00,</span><br><span class="line">&quot;Brewer 210&quot;, &quot;Pourover&quot;, 12));</span><br><span class="line"></span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A001&quot;, &quot;Almond Flavored Syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A002&quot;, &quot;Irish Creme Flavored Syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A003&quot;, &quot;Mint Flavored syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A004&quot;, &quot;Caramel Flavored Syrup&quot;, 9.00));</span><br><span class="line">catalog.addProduct(</span><br><span class="line">new Product(&quot;A005&quot;, &quot;Gourmet Coffee Cookies&quot;, 12.00));</span><br><span class="line"></span><br><span class="line">return catalog;</span><br><span class="line">&#125;</span><br><span class="line">private Sales loadSales(Catalog catalog) &#123;</span><br><span class="line"></span><br><span class="line">Sales sales = new Sales();</span><br><span class="line">Order[] orders = new Order[6];</span><br><span class="line"></span><br><span class="line">orders[0] = new Order();</span><br><span class="line">orders[0].addItem(new OrderItem(catalog.getProduct(&quot;C001&quot;), 5));</span><br><span class="line">sales.addOrder(orders[0]);</span><br><span class="line"></span><br><span class="line">orders[1] = new Order();</span><br><span class="line">orders[1].addItem(new OrderItem(catalog.getProduct(&quot;C002&quot;), 2));</span><br><span class="line">orders[1].addItem(new OrderItem(catalog.getProduct(&quot;A001&quot;), 2));</span><br><span class="line">orders[1].addItem(new OrderItem(catalog.getProduct(&quot;A003&quot;), 2));</span><br><span class="line">sales.addOrder(orders[1]);</span><br><span class="line"></span><br><span class="line">orders[2] = new Order();</span><br><span class="line">orders[2].addItem(new OrderItem(catalog.getProduct(&quot;B002&quot;), 1));</span><br><span class="line">orders[2].addItem(new OrderItem(catalog.getProduct(&quot;A003&quot;), 3));</span><br><span class="line">sales.addOrder(orders[2]);</span><br><span class="line"></span><br><span class="line">orders[3] = new Order();</span><br><span class="line">orders[3].addItem(new OrderItem(catalog.getProduct(&quot;B003&quot;), 2));</span><br><span class="line">orders[3].addItem(new OrderItem(catalog.getProduct(&quot;C001&quot;), 3));</span><br><span class="line">orders[3].addItem(new OrderItem(catalog.getProduct(&quot;C003&quot;), 3));</span><br><span class="line">orders[3].addItem(new OrderItem(catalog.getProduct(&quot;C005&quot;), 3));</span><br><span class="line">orders[3].addItem(new OrderItem(catalog.getProduct(&quot;A001&quot;), 3));</span><br><span class="line">orders[3].addItem(new OrderItem(catalog.getProduct(&quot;A004&quot;), 2));</span><br><span class="line">sales.addOrder(orders[3]);</span><br><span class="line"></span><br><span class="line">orders[4] = new Order();</span><br><span class="line">orders[4].addItem(new OrderItem(catalog.getProduct(&quot;B001&quot;), 1));</span><br><span class="line">orders[4].addItem(new OrderItem(catalog.getProduct(&quot;C002&quot;), 2));</span><br><span class="line">orders[4].addItem(new OrderItem(catalog.getProduct(&quot;C003&quot;), 2));</span><br><span class="line">orders[4].addItem(new OrderItem(catalog.getProduct(&quot;A001&quot;), 2));</span><br><span class="line">orders[4].addItem(new OrderItem(catalog.getProduct(&quot;A002&quot;), 6));</span><br><span class="line">sales.addOrder(orders[4]);</span><br><span class="line"></span><br><span class="line">orders[5] = new Order();</span><br><span class="line">orders[5].addItem(new OrderItem(catalog.getProduct(&quot;B001&quot;), 1));</span><br><span class="line">orders[5].addItem(new OrderItem(catalog.getProduct(&quot;C001&quot;), 1));</span><br><span class="line">orders[5].addItem(new OrderItem(catalog.getProduct(&quot;C005&quot;), 5));</span><br><span class="line">orders[5].addItem(new OrderItem(catalog.getProduct(&quot;A001&quot;), 5));</span><br><span class="line">orders[5].addItem(new OrderItem(catalog.getProduct(&quot;A004&quot;), 4));</span><br><span class="line">sales.addOrder(orders[5]);</span><br><span class="line"></span><br><span class="line">return sales;</span><br><span class="line">&#125;</span><br><span class="line">private void run() throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">int  choice = getChoice();</span><br><span class="line"></span><br><span class="line">while (choice != 0)  &#123;</span><br><span class="line"></span><br><span class="line">if (choice == 1)  &#123;</span><br><span class="line">displayCatalog();</span><br><span class="line">&#125; else if (choice == 2)  &#123;</span><br><span class="line">displayProductInfo();</span><br><span class="line">&#125; else if (choice == 3)  &#123;</span><br><span class="line">displayOrder();</span><br><span class="line">&#125; else if (choice == 4)  &#123;</span><br><span class="line">addModifyProduct();</span><br><span class="line">&#125; else if (choice == 5)  &#123;</span><br><span class="line">removeProduct();</span><br><span class="line">&#125; else if (choice == 6)  &#123;</span><br><span class="line">saleOrder();</span><br><span class="line">&#125; else if (choice == 7)  &#123;</span><br><span class="line">displayOrdersSold();</span><br><span class="line">&#125; else if (choice == 8)  &#123;</span><br><span class="line">displayNumberOfOrders(readProduct());</span><br><span class="line">&#125; else if (choice == 9)  &#123;</span><br><span class="line">displayTotalQuantityOfProducts();</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">choice = getChoice();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">private int  getChoice() throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">int  input;</span><br><span class="line"></span><br><span class="line">do  &#123;</span><br><span class="line">try  &#123;</span><br><span class="line">stdErr.println();</span><br><span class="line">stdErr.print(</span><br><span class="line">  &quot;[0] Quit\n&quot;</span><br><span class="line">+ &quot;[1] Display catalog\n&quot;</span><br><span class="line">+ &quot;[2] Display product\n&quot;</span><br><span class="line">+ &quot;[3] Display current order\n&quot;</span><br><span class="line">+ &quot;[4] Add|modify product to|in current order\n&quot;</span><br><span class="line">+ &quot;[5] Remove product from current order\n&quot;</span><br><span class="line">+ &quot;[6] Register sale of current order\n&quot;</span><br><span class="line">+ &quot;[7] Display sales\n&quot;</span><br><span class="line">+ &quot;[8] Display number of orders with a specific product\n&quot;</span><br><span class="line">+ &quot;[9] Display the total quantity sold for each product\n&quot;</span><br><span class="line">+ &quot;choice&gt; &quot;);</span><br><span class="line">stdErr.flush();</span><br><span class="line"></span><br><span class="line">input = Integer.parseInt(stdIn.readLine());</span><br><span class="line"></span><br><span class="line">stdErr.println();</span><br><span class="line"></span><br><span class="line">if (0 &lt;= input &amp;&amp; 9 &gt;= input)  &#123;</span><br><span class="line">break;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">stdErr.println(&quot;Invalid choice:  &quot; + input);</span><br><span class="line">&#125;</span><br><span class="line">&#125; catch (NumberFormatException  nfe)  &#123;</span><br><span class="line">stdErr.println(nfe);</span><br><span class="line">&#125;</span><br><span class="line">&#125;  while (true);</span><br><span class="line"></span><br><span class="line">return  input;</span><br><span class="line">&#125;</span><br><span class="line">public void displayCatalog() &#123;</span><br><span class="line"></span><br><span class="line">int size = this.catalog.getNumberOfProducts();</span><br><span class="line"></span><br><span class="line">if (size == 0) &#123;</span><br><span class="line">stdErr.println(&quot;The catalog is empty&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">for (Product  product : this.catalog) &#123;</span><br><span class="line"></span><br><span class="line">stdOut.println(product.getCode() + &quot; &quot; +</span><br><span class="line">product.getDescription());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public void displayProductInfo() throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">Product product = readProduct();</span><br><span class="line"></span><br><span class="line">stdOut.println(&quot;  Description: &quot; + product.getDescription());</span><br><span class="line">stdOut.println(&quot;  Price: &quot; + product.getPrice());</span><br><span class="line">if (product instanceof Coffee) &#123;</span><br><span class="line"></span><br><span class="line">Coffee coffee = (Coffee) product;</span><br><span class="line"></span><br><span class="line">stdOut.println(&quot;  Origin: &quot; + coffee.getOrigin());</span><br><span class="line">stdOut.println(&quot;  Roast: &quot; + coffee.getRoast());</span><br><span class="line">stdOut.println(&quot;  Flavor: &quot; + coffee.getFlavor());</span><br><span class="line">stdOut.println(&quot;  Aroma: &quot; + coffee.getAroma());</span><br><span class="line">stdOut.println(&quot;  Acidity: &quot; + coffee.getAcidity());</span><br><span class="line">stdOut.println(&quot;  Body: &quot; + coffee.getBody());</span><br><span class="line">&#125; else if (product instanceof CoffeeBrewer) &#123;</span><br><span class="line"></span><br><span class="line">CoffeeBrewer brewer = (CoffeeBrewer) product;</span><br><span class="line"></span><br><span class="line">stdOut.println(&quot;  Model: &quot; + brewer.getModel());</span><br><span class="line">stdOut.println(&quot;  Water Supply: &quot; + brewer.getWaterSupply());</span><br><span class="line">stdOut.println(&quot;  Number of Cups: &quot; + brewer.getNumberOfCups());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public void displayOrder() &#123;</span><br><span class="line"></span><br><span class="line">int size = this.currentOrder.getNumberOfItems();</span><br><span class="line"></span><br><span class="line">if (size == 0) &#123;</span><br><span class="line">stdErr.println(&quot;The current order is empty&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">for (OrderItem  orderItem : this.currentOrder) &#123;</span><br><span class="line">stdOut.println(orderItem.toString());</span><br><span class="line">&#125;</span><br><span class="line">stdOut.println(&quot;Total: &quot; +</span><br><span class="line">CURRENCY.format(this.currentOrder.getTotalCost()));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public void addModifyProduct()  throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">Product product = readProduct();</span><br><span class="line">int quantity = readQuantity();</span><br><span class="line">OrderItem orderItem = this.currentOrder.getItem(product);</span><br><span class="line"></span><br><span class="line">if (orderItem == null) &#123;</span><br><span class="line">this.currentOrder.addItem(new OrderItem(product, quantity));</span><br><span class="line">stdOut.println(&quot;The product &quot; + product.getCode()</span><br><span class="line"> + &quot; has been added&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">orderItem.setQuantity(quantity);</span><br><span class="line">stdOut.println(&quot;The quantity of the product &quot; +</span><br><span class="line">product.getCode() + &quot; has been modified&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public void removeProduct()  throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">Product product = readProduct();</span><br><span class="line">OrderItem orderItem = this.currentOrder.getItem(product);</span><br><span class="line"></span><br><span class="line">if (orderItem != null) &#123;</span><br><span class="line">this.currentOrder.removeItem(orderItem);</span><br><span class="line">stdOut.println(&quot;The product &quot; + product.getCode()</span><br><span class="line"> + &quot; has been removed from the current order&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">stdErr.println(</span><br><span class="line">&quot;There are no products in the current order with that code&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public void saleOrder()  &#123;</span><br><span class="line"></span><br><span class="line">if (this.currentOrder.getNumberOfItems() &gt; 0) &#123;</span><br><span class="line">this.sales.addOrder(this.currentOrder);</span><br><span class="line">this.currentOrder = new Order();</span><br><span class="line">stdOut.println(&quot;The sale of the order has been registered&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">stdErr.println(&quot;The current order is empty&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public void displayOrdersSold() &#123;</span><br><span class="line"></span><br><span class="line">int numOrders = this.sales.getNumberOfOrders();</span><br><span class="line"></span><br><span class="line">if (numOrders != 0) &#123;</span><br><span class="line">int orderNumber = 1;</span><br><span class="line">for (Order  order : this.sales) &#123;</span><br><span class="line"></span><br><span class="line">stdOut.println(&quot;Order &quot; + orderNumber++);</span><br><span class="line"></span><br><span class="line">for (OrderItem  orderItem : order) &#123;</span><br><span class="line">stdOut.println(&quot;   &quot; + orderItem.toString());</span><br><span class="line">&#125;</span><br><span class="line">stdOut.println(&quot;   Total: &quot; +</span><br><span class="line">CURRENCY.format(order.getTotalCost()));</span><br><span class="line">&#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">stdErr.println(&quot;There are no sales&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public void displayNumberOfOrders(Product product) &#123;</span><br><span class="line">int total = 0;</span><br><span class="line">for(Order order:sales) &#123;</span><br><span class="line">for(OrderItem orderItem:order) &#123;</span><br><span class="line">if(orderItem.getProduct().equals(product)) &#123;</span><br><span class="line">total++;</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(&quot;Number of orders that contains the product &quot;+product.getCode()+&quot;: &quot;+total);</span><br><span class="line">&#125;</span><br><span class="line">public void displayTotalQuantityOfProducts() &#123;</span><br><span class="line"></span><br><span class="line">/* PLACE YOUR CODE HERE */</span><br><span class="line">for(Product product:catalog) &#123;</span><br><span class="line">int total = 0;</span><br><span class="line">for(Order order:sales) &#123;</span><br><span class="line">for(OrderItem orderItem:order) &#123;</span><br><span class="line">if(orderItem.getProduct().equals(product)) &#123;</span><br><span class="line">total+=orderItem.getQuantity();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(product.getCode()+&quot;: &quot;+total);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">private Product readProduct() throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">do  &#123;</span><br><span class="line">stdErr.print(&quot;Product code&gt; &quot;);</span><br><span class="line">stdErr.flush();</span><br><span class="line"></span><br><span class="line">Product product = this.catalog.getProduct(stdIn.readLine());</span><br><span class="line"></span><br><span class="line">if (product != null) &#123;</span><br><span class="line"></span><br><span class="line">return product;</span><br><span class="line"></span><br><span class="line">&#125; else &#123;</span><br><span class="line">stdErr.println(&quot;There are no products with that code&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;  while (true);</span><br><span class="line">&#125;</span><br><span class="line">private int readQuantity() throws IOException  &#123;</span><br><span class="line"></span><br><span class="line">int quantity;</span><br><span class="line"></span><br><span class="line">do  &#123;</span><br><span class="line">try  &#123;</span><br><span class="line"></span><br><span class="line">stdErr.print(&quot;Quantity&gt; &quot;);</span><br><span class="line">stdErr.flush();</span><br><span class="line">quantity = Integer.parseInt(stdIn.readLine());</span><br><span class="line">if (quantity &gt; 0) &#123;</span><br><span class="line"></span><br><span class="line">return quantity;</span><br><span class="line"></span><br><span class="line">&#125; else  &#123;</span><br><span class="line">stdErr.println(</span><br><span class="line">&quot;Invalid input. Please enter a positive integer&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#125; catch (NumberFormatException  nfe)  &#123;</span><br><span class="line">stdErr.println(nfe);</span><br><span class="line">&#125;</span><br><span class="line">&#125;  while (true);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>又水了点代码，这回作业考察了iterator和arraylist，总体来说难度也不是很高</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java第一次作业纪实，订购产品及咖啡类</title>
      <link href="/2023/03/30/java001/"/>
      <url>/2023/03/30/java001/</url>
      
        <content type="html"><![CDATA[<p>水了一点代码，记录一下<br>Product类</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line"></span><br><span class="line">public class Product &#123;</span><br><span class="line">private String code;</span><br><span class="line">private String description;</span><br><span class="line">private double price;</span><br><span class="line"></span><br><span class="line">public String getCode() &#123;</span><br><span class="line">return code;</span><br><span class="line">&#125;</span><br><span class="line">public String getDescription() &#123;</span><br><span class="line">return description;</span><br><span class="line">&#125;</span><br><span class="line">public double getPrice() &#123;</span><br><span class="line">return price;</span><br><span class="line">&#125;</span><br><span class="line">public Product() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">public Product(String initialCode,String initialDescription,double initialPrice) &#123;</span><br><span class="line">this.code = initialCode;</span><br><span class="line">this.description = initialDescription;</span><br><span class="line">this.price = initialPrice;</span><br><span class="line">&#125;</span><br><span class="line">public boolean equals(Object object) &#123;</span><br><span class="line">if(object instanceof Product) &#123;</span><br><span class="line">return ((Product)object).getCode().equals(this.getCode());</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br><span class="line">public String toString() &#123;</span><br><span class="line">return code + &quot;_&quot; + description + &quot;_&quot; + price;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OrderItem类</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line"></span><br><span class="line">public class OrderItem &#123;</span><br><span class="line">private int quantity;</span><br><span class="line">private Product product;</span><br><span class="line">public Product <span class="function"><span class="title">getProduct</span></span>() &#123;</span><br><span class="line"><span class="built_in">return</span> product;</span><br><span class="line">&#125;</span><br><span class="line">public int <span class="function"><span class="title">getQuantity</span></span>() &#123;</span><br><span class="line"><span class="built_in">return</span> quantity;</span><br><span class="line">&#125;</span><br><span class="line">public void setQuantity(int newQuantity) &#123;</span><br><span class="line">this.quantity = newQuantity;</span><br><span class="line">&#125;</span><br><span class="line">public double <span class="function"><span class="title">getValue</span></span>() &#123;</span><br><span class="line"><span class="built_in">return</span> product.getPrice() * quantity;</span><br><span class="line">&#125;</span><br><span class="line">public String <span class="function"><span class="title">toString</span></span>() &#123;</span><br><span class="line"><span class="built_in">return</span> quantity + <span class="string">&quot; &quot;</span> + product.getCode() + <span class="string">&quot; &quot;</span> + product.getPrice();</span><br><span class="line">&#125;</span><br><span class="line">public OrderItem(Product initialProduct,int initialQuantity) &#123;</span><br><span class="line">this.product = initialProduct;</span><br><span class="line">this.quantity = initialQuantity;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Coffee类</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line"></span><br><span class="line">public class OrderItem &#123;</span><br><span class="line">private int quantity;</span><br><span class="line">private Product product;</span><br><span class="line">public Product getProduct() &#123;</span><br><span class="line">return product;</span><br><span class="line">&#125;</span><br><span class="line">public int getQuantity() &#123;</span><br><span class="line">return quantity;</span><br><span class="line">&#125;</span><br><span class="line">public void setQuantity(int newQuantity) &#123;</span><br><span class="line">this.quantity = newQuantity;</span><br><span class="line">&#125;</span><br><span class="line">public double getValue() &#123;</span><br><span class="line">return product.getPrice() * quantity;</span><br><span class="line">&#125;</span><br><span class="line">public String toString() &#123;</span><br><span class="line">return quantity + &quot; &quot; + product.getCode() + &quot; &quot; + product.getPrice();</span><br><span class="line">&#125;</span><br><span class="line">public OrderItem(Product initialProduct,int initialQuantity) &#123;</span><br><span class="line">this.product = initialProduct;</span><br><span class="line">this.quantity = initialQuantity;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>CoffeeBrewer类</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line"></span><br><span class="line">public class CoffeeBrewer extends Product&#123;</span><br><span class="line">String model;</span><br><span class="line">String waterSupply;</span><br><span class="line">int numberOfCups;</span><br><span class="line">public CoffeeBrewer(String iniCode,String iniDescription,double iniPrice</span><br><span class="line">,String iniModel,String iniWaterSupply,int iniNumberOfCups) &#123;</span><br><span class="line">super(iniCode,iniDescription,iniPrice);</span><br><span class="line">model = iniModel;</span><br><span class="line">waterSupply = iniWaterSupply;</span><br><span class="line">numberOfCups = iniNumberOfCups;</span><br><span class="line">&#125;</span><br><span class="line">public String getModel() &#123;</span><br><span class="line">return model;</span><br><span class="line">&#125;</span><br><span class="line">public String getWaterSupply() &#123;</span><br><span class="line">return waterSupply;</span><br><span class="line">&#125;</span><br><span class="line">public int getNumberOfCups() &#123;</span><br><span class="line">return numberOfCups;</span><br><span class="line">&#125;</span><br><span class="line">public String toString() &#123;</span><br><span class="line">return super.getCode() + &quot;_&quot; + super.getDescription() + &quot;_&quot; + super.getPrice() + &quot;_&quot; </span><br><span class="line">+ model + &quot;_&quot; + waterSupply + &quot;_&quot; + numberOfCups;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>TestProduct类</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">package ProductOrder;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class TestProduct &#123;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) throws IOException &#123;</span><br><span class="line">// TODO Auto-generated method stub</span><br><span class="line">String str1,str2,str3;</span><br><span class="line">double dou1 = 0;</span><br><span class="line">Product pro1 = new Product(&quot;001&quot;, &quot;Apple&quot;, 3.99);</span><br><span class="line">Product pro2 = new Product(&quot;002&quot;, &quot;Banana&quot;, 5.99);</span><br><span class="line">Product pro3 = new Product(&quot;003&quot;, &quot;Canyon&quot;, 21.99);</span><br><span class="line">Product pro4 = new Product(&quot;004&quot;, &quot;Dove&quot;, 6.99);</span><br><span class="line">Product pro5 = new Product(&quot;004&quot;, &quot;Eggs&quot;, 10.99);</span><br><span class="line"></span><br><span class="line">OrderItem bill1 = new OrderItem(pro1, 5);</span><br><span class="line">OrderItem bill2 = new OrderItem(pro1, 20);</span><br><span class="line">OrderItem bill3 = new OrderItem(pro2, 25);</span><br><span class="line">OrderItem bill4 = new OrderItem(pro5, 3);</span><br><span class="line">OrderItem bill5 = new OrderItem(pro4, 7);</span><br><span class="line">OrderItem bill6 = new OrderItem(pro1, 0);</span><br><span class="line">OrderItem bill7 = new OrderItem(pro5, 999);</span><br><span class="line">OrderItem bill8 = new OrderItem(pro5, 12);</span><br><span class="line">OrderItem bill9 = new OrderItem(pro2, 2);</span><br><span class="line">OrderItem bill10 = new OrderItem(pro3, 100);</span><br><span class="line"></span><br><span class="line">Coffee cof1 = new Coffee(&quot;01&quot;,&quot;Cappuccino&quot;,15.2,&quot;American&quot;,&quot;Cure&quot;,&quot;Sweet&quot;,&quot;Heavy&quot;,&quot;Small&quot;,&quot;Oval&quot;);</span><br><span class="line"></span><br><span class="line">CoffeeBrewer ord1 = new CoffeeBrewer(&quot;001&quot;,&quot;SUNNY&quot;,169.99,&quot;Abrasive&quot;,&quot;PrueWater&quot;,3);</span><br><span class="line">BufferedReader buf = null;//声明 BufferedReader 对象</span><br><span class="line">    buf = new BufferedReader(new InputStreamReader(System.in));//实例化 BufferedReader</span><br><span class="line">    String str = null;//接收输入内容</span><br><span class="line">    System.out.print(&quot;请输入新建Product,以“,”分开：&quot;);</span><br><span class="line">    str = buf.readLine();//读取输入内容</span><br><span class="line">    StringTokenizer st=new StringTokenizer(str,&quot;,&quot;);</span><br><span class="line">    str1 = st.nextToken();</span><br><span class="line">    str2 = st.nextToken();</span><br><span class="line">      str3 = st.nextToken();</span><br><span class="line">        dou1 = Double.parseDouble(str3);</span><br><span class="line">    Product pro6 = new Product(str1,str2,dou1);</span><br><span class="line">    if(pro4.equals(pro5)) &#123;</span><br><span class="line">    System.out.println(&quot;Yes!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">    System.out.println(&quot;No!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">System.out.println(bill10);</span><br><span class="line">System.out.println(cof1);</span><br><span class="line">System.out.println(pro6);</span><br><span class="line">System.out.println(ord1.getPrice());</span><br><span class="line">System.out.println(bill1.getQuantity());</span><br><span class="line">System.out.println(bill2.getProduct().getDescription());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>本次作业考察了java基础类、类的继承的基础语法，以及tokenizer、bufferreader等库的使用，总体来说难度不大。</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于C++与OpenCV的贪吃蛇小游戏（简单版）</title>
      <link href="/2023/03/24/Cpp0324/"/>
      <url>/2023/03/24/Cpp0324/</url>
      
        <content type="html"><![CDATA[<p>本人蒟蒻一个，因为学习OpenCV途中收到了要写贪吃蛇小游戏的要求</p><p>于是上网广搜精华</p><p>震惊的发现他们写的贪吃蛇都用了很多复杂的函数（包括类啊巴拉巴拉，让人很难看懂）</p><p>于是我自己琢磨了很长时间</p><p>写出来了一个比较平易近人的贪吃蛇版本 </p><p>也恳请各位大佬指正写的不好的地方</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;Windows.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;opencv2/opencv.hpp&gt;</span><br><span class="line">#include &lt;time.h&gt;</span><br><span class="line">//Direction 0上 1是左 2是下 3是右</span><br><span class="line">using namespace std;</span><br><span class="line">using namespace cv;</span><br><span class="line">//定义每个方块的高度</span><br><span class="line">int height = 15;</span><br><span class="line">int width = 15;</span><br><span class="line">int Sizes = 20;//定义Size*Size的棋盘大小</span><br><span class="line">int Height = height * Sizes;</span><br><span class="line">int Width = width * Sizes;</span><br><span class="line">//记录现在的方向 长度</span><br><span class="line">int NowDirection = 1, Lenth;</span><br><span class="line">int Difficult = 500;</span><br><span class="line">bool Judge = true;</span><br><span class="line">//随机数类 记住一定要在函数外声明</span><br><span class="line">RNG rng = theRNG();</span><br><span class="line">//位置类 a数组记录蛇 Food记录食物</span><br><span class="line">class Position&#123;</span><br><span class="line">public:</span><br><span class="line">int x;</span><br><span class="line">int y;</span><br><span class="line">&#125;a[3000],Food;</span><br><span class="line">//方向输入</span><br><span class="line">void ReadMoveDirection(int LastTimeDirction) &#123;</span><br><span class="line">char pointKey = waitKey(Difficult);</span><br><span class="line">if(pointKey == &#x27;w&#x27;)</span><br><span class="line">NowDirection = 0;</span><br><span class="line">if(pointKey == &#x27;a&#x27;)</span><br><span class="line">NowDirection = 1;</span><br><span class="line">if(pointKey == &#x27;s&#x27;)</span><br><span class="line">NowDirection = 2;</span><br><span class="line">if(pointKey == &#x27;d&#x27;)</span><br><span class="line">NowDirection = 3;</span><br><span class="line">//确保不会向反方向走</span><br><span class="line">if (NowDirection == LastTimeDirction || NowDirection == LastTimeDirction + 2 || NowDirection == LastTimeDirction - 2 ) &#123;</span><br><span class="line">NowDirection = LastTimeDirction;</span><br><span class="line">&#125;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">//初始化界面 可没有</span><br><span class="line">void Start(void) &#123;</span><br><span class="line">Mat image(Height, Width, CV_8UC3, Scalar(255, 255, 255));</span><br><span class="line">char StartKey = &#x27;a&#x27;;</span><br><span class="line">putText(image, &quot;Press f to Start&quot;, Point(Width/2-120 ,Height/2 - 20 ), 2, 1, Scalar(0, 0, 0), 2);</span><br><span class="line">while (1) &#123;</span><br><span class="line">imshow(&quot;贪吃蛇~&quot;, image);</span><br><span class="line">char StartKey = waitKey(20);</span><br><span class="line">if (StartKey == &#x27;f&#x27;) &#123;</span><br><span class="line">destroyWindow(&quot;贪吃蛇~&quot;);</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">//制作食物</span><br><span class="line">void MakeFood(void) &#123;</span><br><span class="line"></span><br><span class="line">while (1) &#123;</span><br><span class="line">bool s = true;</span><br><span class="line">int FoodX = rng.uniform(0, Sizes);</span><br><span class="line">int FoodY = rng.uniform(0, Sizes);</span><br><span class="line">for (int i = 1; i &lt;= Lenth; i++)</span><br><span class="line">if (a[i].x == FoodX &amp;&amp; a[i].y == FoodY) &#123;</span><br><span class="line">s = false;</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">if (s) &#123;</span><br><span class="line">Food.x = FoodX;</span><br><span class="line">Food.y = FoodY;</span><br><span class="line">//cout &lt;&lt; FoodX &lt;&lt; &quot;TTT&quot; &lt;&lt; FoodY &lt;&lt; endl;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">//判断是否食物被吃掉</span><br><span class="line">bool JudgeFood(void) &#123;</span><br><span class="line">if (a[1].x == Food.x &amp;&amp; a[1].y == Food.y) &#123;</span><br><span class="line">a[Lenth + 1].x = a[Lenth].x;</span><br><span class="line">a[Lenth + 1].y = a[Lenth].y;</span><br><span class="line">Lenth++;</span><br><span class="line"></span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">else </span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br><span class="line">//蛇头包括蛇身的移动，后一块继承前一块</span><br><span class="line">void HeadMove(int MoveDirection,int len) &#123;</span><br><span class="line">if (MoveDirection == 0) &#123;</span><br><span class="line">for (int i = len; i &gt;= 2; i--) &#123;</span><br><span class="line">a[i].x = a[i - 1].x;</span><br><span class="line">a[i].y = a[i - 1].y;</span><br><span class="line">&#125;</span><br><span class="line">a[1].y--;</span><br><span class="line">&#125;</span><br><span class="line">if (MoveDirection == 1) &#123;</span><br><span class="line">for (int i = len; i &gt;= 2; i--) &#123;</span><br><span class="line">a[i].x = a[i - 1].x;</span><br><span class="line">a[i].y = a[i - 1].y;</span><br><span class="line">&#125;</span><br><span class="line">a[1].x--;</span><br><span class="line">&#125;</span><br><span class="line">if (MoveDirection == 2) &#123;</span><br><span class="line">for (int i = len; i &gt;= 2; i--) &#123;</span><br><span class="line">a[i].x = a[i - 1].x;</span><br><span class="line">a[i].y = a[i - 1].y;</span><br><span class="line">&#125;</span><br><span class="line">a[1].y++;</span><br><span class="line">&#125;</span><br><span class="line">if (MoveDirection == 3) &#123;</span><br><span class="line">for (int i = len; i &gt;= 2; i--) &#123;</span><br><span class="line">a[i].x = a[i - 1].x;</span><br><span class="line">a[i].y = a[i - 1].y;</span><br><span class="line">&#125;</span><br><span class="line">a[1].x++;</span><br><span class="line">&#125;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">//判断是否越界或者咬自己尾巴</span><br><span class="line">bool JudgeOver(void)&#123;</span><br><span class="line">if (a[1].x == 0 || a[1].x == Sizes || a[1].y == 0 || a[1].y == Sizes )</span><br><span class="line">return true;</span><br><span class="line">else &#123;</span><br><span class="line">for (int i = 2; i &lt;= Lenth; i++)</span><br><span class="line">if (a[i].x == a[1].x &amp;&amp; a[i].y == a[1].y)</span><br><span class="line">return true;</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">//游戏结束界面</span><br><span class="line">void GameOver(Mat PreImage) &#123;</span><br><span class="line">putText(PreImage, &quot;You Loss!  &quot;, Point(Width / 2 - 120, Height / 2 - 20), 2, 1, Scalar(5, 30, 216), 3);</span><br><span class="line">putText(PreImage, &quot;Your Score : &quot; + std::to_string(Lenth - 3), Point(Width / 2 - 120, Height / 2 + 10), 2, 1, Scalar(5, 30, 216), 3);</span><br><span class="line">imshow(&quot;GG!&quot;, PreImage);</span><br><span class="line">waitKey(0);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">int main(int argc, char** argv) &#123;</span><br><span class="line">Start();</span><br><span class="line">MakeFood();</span><br><span class="line">//初始化蛇蛇</span><br><span class="line">Lenth = 3;</span><br><span class="line">a[1].x = Sizes / 2;</span><br><span class="line">a[1].y = Sizes / 2;</span><br><span class="line">a[2].x = a[1].x + 1;</span><br><span class="line">a[2].y = a[1].y;</span><br><span class="line">a[3].x = a[2].x + 1;</span><br><span class="line">a[3].y = a[2].y;</span><br><span class="line">Mat frame(Height, Width, CV_8UC3, Scalar(255, 255, 255));</span><br><span class="line">while(1)&#123;</span><br><span class="line">Mat frame(Height, Width, CV_8UC3, Scalar(255, 255, 255));</span><br><span class="line">ReadMoveDirection(NowDirection);</span><br><span class="line">HeadMove(NowDirection,Lenth);</span><br><span class="line">if (JudgeOver()) &#123;</span><br><span class="line">break;</span><br><span class="line">&#125;//先走再判断</span><br><span class="line">if (JudgeFood()) &#123;</span><br><span class="line">MakeFood();</span><br><span class="line">&#125;//如果食物被吃了再制造一个食物</span><br><span class="line">for (int j = 1; j &lt;= Lenth; j++) &#123;</span><br><span class="line">rectangle(frame, Rect(a[j].x * width, a[j].y * height, width, height), Scalar(255, 204, 51), -1);</span><br><span class="line">&#125;</span><br><span class="line">rectangle(frame, Rect(Food.x * width, Food.y * height, width, height), Scalar(255, 204, 51), -1);</span><br><span class="line">imshow(&quot;贪吃蛇 by RogicYu&quot;, frame);</span><br><span class="line">&#125;//显示蛇和食物，可以写进函数里，我懒了</span><br><span class="line">//出循环代表游戏结束</span><br><span class="line">destroyWindow(&quot;贪吃蛇 by RogicYu&quot;);</span><br><span class="line">GameOver(frame);</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/03/24/hello-world/"/>
      <url>/2023/03/24/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
